language: c

sudo: required
dist: trusty

before_install:
- sudo apt-get -qq update && sudo apt-get install -y --no-install-recommends texlive-full

cache:
  directories:
    - $HOME/.cache/latex

matrix:
 include:
   - env: LATEXMK="yes"
     addons:
       apt:
         packages:
           - latexmk
           - texlive
           - wget
           - curl
           - sed
           - grep

script:

  # gitinfo2 setup... :S
  - wget https://raw.githubusercontent.com/Hightor/gitinfo2/CTAN/gitinfo2.sty
  - pwd
  - cd .git/hooks
  - wget https://gist.githubusercontent.com/jonaprieto/607fea82f55dba1945ddfcd7248905c3/raw/1b3df605071f16b7a5167efe7923c284cb26dd1c/post-commit
  - cp post-commit post-merge
  - cp post-commit post-checkout
  - sudo chmod +x post-commit post-merge post-checkout
  - git checkout master
  - cd ..
  - cd ..
  - pwd
  - make
